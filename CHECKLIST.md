# STM32F103 — Чек-лист по созданию проекта и сборке в GitHub Actions

Этот список поможет шаг за шагом правильно организовать проект под STM32F103, чтобы прошивка всегда собиралась и запускалась.

---

## 1. Структура проекта

- `.github/workflows/build.yml` → файл для GitHub Actions (сборка проекта).
- `Makefile` → правила сборки (лежит в корне).
- `STM32F103X6_FLASH.ld` → линкерный скрипт (лежит в корне).
- `include/` → папка с заголовочными файлами.
  - `CMSIS/`  
    - `stm32f103x6.h`  
    - `stm32f1xx.h`  
    - `system_stm32f1xx.h`
- `src/` → исходники проекта.
  - `main.c`  
  - `init.c`  
  - `startup_stm32f103xb.s`  
  - `system_stm32f1xx.c`

---

## 2. Startup файл

- ✅ В проект добавлен `startup_stm32f103xb.s`.  
- ✅ Внутри прописан `Reset_Handler`.  
- ⚠️ Если этого нет → прошивка **не стартует после перезагрузки**.  

---

## 3. SystemInit

- ✅ В проект добавлен `system_stm32f1xx.c`.  
- ✅ В нём есть функция `SystemInit()`.  
- ✅ Логика тактирования запускается **перед main()**.  

---

## 4. Линкерный скрипт

- ✅ Используется `STM32F103X6_FLASH.ld`.  
- ✅ В нём прописано `ENTRY(Reset_Handler)`.  
- ✅ Проверены правильные адреса памяти:
  - FLASH начинается с `0x08000000`.  
  - RAM начинается с `0x20000000`.  

---

## 5. Аппаратные условия

- ✅ BOOT0 = 0 (иначе МК уходит в загрузчик).  
- ✅ NRST подключён.  
- ✅ Питание подано стабильно (3.3В).  

---

## 6. Makefile

- ✅ Указаны все исходники (`src/*.c`, `src/*.s`).  
- ✅ Подключены заголовки (`-Iinclude -Iinclude/CMSIS`).  
- ✅ Указан линкерный скрипт (`-T STM32F103X6_FLASH.ld`).  

---

## 7. GitHub Actions

- ✅ Файл `.github/workflows/build.yml` создан.  
- ✅ Используется образ `ubuntu-latest`.  
- ✅ Установлен `gcc-arm-none-eabi`.  
- ✅ Запускается команда `make all`.  
- ✅ В артефактах сохраняется прошивка `.elf` и `.bin`.  

---

## 8. Проверка прошивки

- После сборки на GitHub Actions скачать `.bin`.  
- Залить через `stlink`:  
  ```bash
  st-flash --reset write build/firmware.bin 0x08000000
